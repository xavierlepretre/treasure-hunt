

<!DOCTYPE html>
<html>
<head>
  <base href="/" />
  <title>WalkDog - Walker App</title>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link href="./app.css" rel='stylesheet' type='text/css'>
  <script src="./app.js"></script>
  <script src="./walkDog.js"></script>
</head>
<body ng-app="proofsApp" ng-controller="walkDogController">
  <h1>WalkDog</h1>
  <h2>Walker Dapp</h2>

  <h3>My Info</h3>

  <table>
    <thead>
      <tr>
        <th>Address</th>
        <td colspan="2">{{ walkDogAddress }}</td>
      </tr>
      <tr>
        <th>Owner Address</th>
        <td colspan="2">{{ owner.address }}</td>
      </tr>
      <tr>
        <th>Walker Address</th>
        <td colspan="2">{{ walkDogInfo.walker }}</td>
      </tr>
      <tr>
        <th>Walker Balance</th>
        <td>{{ walkDogInfo.walkerBalance }} Wei</td>
        <td>{{ walkDogInfo.walkerBalanceInFinney }} Finney</td>
      </tr>
      <tr>
        <th>Reward</th>
        <td>{{ walkDogInfo.reward }} Wei</td>
        <td>{{ walkDogInfo.rewardInFinney }} Finney</td>
      </tr>
      <tr>
        <th>Proof</th>
        <td colspan="2">
          <a href="/">{{ walkDogInfo.proof }}</a>
        </td>
      </tr>
      <tr>
        <th>Major</th>
        <td colspan="2">{{ walkDogInfo.major }}</td>
      </tr>
      <tr>
        <th>Time Limit</th>
        <td colspan="2">{{ walkDogInfo.timeLimit }}</td>
      </tr>
      <tr>
        <th>Minor</th>
        <td colspan="2">{{ walkDogInfo.minor }}</td>
      </tr>
      <tr>
        <th>Timestamp</th>
        <td colspan="2">{{ walkDogInfo.minorTimestamp }}</td>
      </tr>
    </thead>
  </table>

  <h3>Beacon Info</h3>

  <table>
    <tbody>
      <tr>
        <th>Address</th>
        <td>
          <a ng-href="/beacon.html?address={{ walkDogInfo.beaconInfo.address }}" target="_self">
            {{ walkDogInfo.beaconInfo.address }}
          </a>
        </td>
      </tr>
      <tr>
        <th>Major</th>
        <td>{{ walkDogInfo.beaconInfo.major }}</td>
      </tr>
      <tr>
        <th>Previous Minor</th>
        <td>{{ walkDogInfo.beaconInfo.previousMinor }}</td>
      </tr>
      <tr>
        <th>Previous Hash</th>
        <td>
          <a ng-href="http://localhost:8000/ipfs/{{ walkDogInfo.beaconInfo.hash }}" target="_self">
            {{ walkDogInfo.beaconInfo.previousHash }}
          </a>
        </td>
      </tr>
      <tr>
        <th>Updated</th>
        <td colspan="2">{{ walkDogInfo.beaconInfo.updatedTimestamp }}</td>
      </tr>
    </tbody>
  </table>

  <h3>Actions</h3>

  <fieldset>
    <legend>Update Minor</legend>

    <label for="newMinor">New Minor:</label>
    <input 
      id="newMinor" 
      type="text" 
      ng-model="newMinor" 
      placeholder="Paste a string here..."/>

    <br>
    <button ng-click="updateMinor(newMinor)">Update</button>

  </fieldset> 

  <fieldset>
    <legend>Complete Walk</legend>

    <button ng-click="completeWalk(withOracle)">Complete Walk</button>

    <br/>
    <label for="withOracle">With Oracle</label>
    <input id="withOracle" type="checkbox" ng-model="withOracle">

  </fieldset> 

  <br><br>
  <span id="status"></span>
</body>
</html>
