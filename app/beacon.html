<!DOCTYPE html>
<html>
<head>
  <base href="/" />
  <title>Beacon - Default Beacon Page</title>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link href="./app.css" rel='stylesheet' type='text/css'>
  <script src="./app.js"></script>
  <script src="./beacon.js"></script>
</head>
<body ng-app="proofsApp" ng-controller="beaconController" ng-init='load()'>
  <h1>Beacon</h1>
  <h2>Default Beacon Dapp</h2>

  <h3>My Info</h3>

  <table>
    <tbody>
      <tr>
        <th>Address</th>
        <td colspan="2">{{ beaconInfo.address }}</td>
      </tr>
      <tr>
        <th>Major</th>
        <td colspan="2">{{ beaconInfo.major }}</td>
      </tr>
      <tr>
        <th>Previous Minor</th>
        <td colspan="2">{{ beaconInfo.previousMinor }}</td>
      </tr>
      <tr>
        <th>Previous Hash</th>
        <td colspan="2">
          <a ng-href="http://localhost:8000/ipfs/{{ beaconInfo.previousHash }}" target="_self">
            {{ beaconInfo.previousHash }}
          </a>
        </td>
      </tr>
      <tr>
        <th>Previous Content</th>
        <td colspan="2">
          {{ beaconInfo.previousIpfsContent }}
        </td>
      </tr>
      <tr>
        <th>Current Minor</th>
        <td colspan="2">{{ beaconInfo.currentMinor }}</td>
      </tr>
      <tr>
        <th>Current Hash</th>
        <td colspan="2">
          <a ng-href="http://localhost:8000/ipfs/{{ beaconInfo.currentHash }}" target="_self">
            {{ beaconInfo.currentHash }}
          </a>
        </td>
      </tr>
      <tr>
        <th>Current Content</th>
        <td colspan="2">
          {{ beaconInfo.currentIpfsContent }}
        </td>
      </tr>
      <tr>
        <th>Updated</th>
        <td colspan="2">{{ beaconInfo.updatedTimestamp }}</td>
      </tr>
      <tr>
        <th>Balance</th>
        <td>{{ beaconBalance }} Wei</td>
        <td>{{ beaconBalanceInFinney }} Finney</td>
      </tr>
    </tbody>
  </table>

  <h3>Actions</h3>

  <fieldset>
    <legend>Update Minor</legend>

    <label for="newMinor">New Minor:</label>
    <input 
      id="newMinor" 
      type="text" 
      ng-model="newMinor" 
      placeholder="Paste a string here..."/>

    <br>
    <button ng-click="updateMinor(newMinor)">Update</button>

  </fieldset> 

  <fieldset>
    <legend>Update Hash</legend>

    <label for="newMinor2">New Minor:</label>
    <input 
      id="newMinor2" 
      type="text" 
      ng-model="newMinor2" 
      placeholder="Paste a string here..."/>

    <br>
    <label for="newHash">New Hash:</label>
    <input 
      id="newHash" 
      type="text" 
      ng-model="newHash" 
      placeholder="Paste a string here..."/>

    <br>
    <button ng-click="updateHash(newMinor2, newHash)">Update</button>

  </fieldset> 

  <br><br>
  <span id="status"></span>
</body>
</html>
